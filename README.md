 [戻る](https://github.com/PM2951/Python-forMAC)    
# Matplotlib (`plt`) 練習問題集

出典となる解説記事：

* 「Python入門とデータ処理の基礎 第3回 – Matplotlib/Seabornによるデータ可視化」をベースにした練習問題集です。  
  （https://www.salesanalytics.co.jp/datascience/datascience273）

すべて VS code (Jupyter Notebook) もしくは Google Colab を想定しています。

---

## 0. 準備コード

最初に、どの問題でも次のコードを 1 回だけ実行しておきます。

```python
import matplotlib.pyplot as plt
import japanize_matplotlib  # 日本語表示用（インストール済みを想定）
import numpy as np
```

※ `japanize_matplotlib` が入っていない場合は、ターミナルやノートブックで `pip install japanize-matplotlib` を実行してからインポートしてください。

各設問に使用するデータが大問の冒頭に提示してあります。  
データをコピペして使用してください。

---

## 問題1：1週間の気温の折れ線グラフ

記事に出てくる「1週間の気温」の例を使った基本問題です。

### データ

```python
days = ['月', '火', '水', '木', '金', '土', '日']
temperatures = [22, 24, 21, 25, 27, 26, 23]
```

### 設問

1. `plt.plot()` を使って、曜日を横軸、気温を縦軸にした折れ線グラフを描きなさい。
2. タイトル・x軸ラベル・y軸ラベルを日本語で設定しなさい。
3. マーカー（点）を追加し、線の色や太さを自分で変更してみなさい。
4. グリッド（目盛り線）を表示しなさい。

#### 発展（余裕があれば）

5. 各データ点の少し上に、`plt.text()` を使って「22℃」のように値を表示しなさい。
6. `plt.ylim()` を使って、y軸の表示範囲を `[18, 30]` に変更しなさい。

---

## 問題2：店舗別売上の棒グラフ

カテゴリーデータを棒グラフで可視化する問題です。

### データ

```python
stores = ['渋谷店', '新宿店', '池袋店', '品川店', '横浜店']
sales = [520, 480, 350, 420, 390]  # 単位：万円
```

### 設問

1. `plt.bar()` を使って、店舗別売上の棒グラフを作りなさい。
2. タイトル・x軸ラベル・y軸ラベルを設定しなさい。
3. 棒の色 (`color`) と枠線の色 (`edgecolor`) を指定して、見やすくしなさい。
4. y軸の範囲を 0〜600 に設定しなさい。

#### 発展（余裕があれば）

5. `for` 文と `plt.text()` を使って、各棒の上に「520万円」のように値を表示しなさい。
6. 最も売上が高い店舗の棒だけ、色を変えて強調してみなさい。

---

## 問題3：部門別予算の円グラフ

全体に対する割合を見るための円グラフを描く問題です。

### データ

```python
departments = ['営業部', '開発部', '人事部', '経理部', '広報部']
budgets = [35, 30, 15, 12, 8]  # 全体を100としたときの割合（％）
```

### 設問

1. `plt.pie()` を使って、部門別予算配分の円グラフを描きなさい。
2. `labels` 引数で部門名を表示しなさい。
3. `autopct='%1.1f%%'` を指定して、各セクションの割合を表示しなさい。
4. `startangle` を 90 にして、上から時計回りに表示されるようにしなさい。

#### 発展（余裕があれば）

5. 一番割合が大きい「営業部」だけ少し飛び出させる（`explode`）設定を追加しなさい。
6. `plt.figure(figsize=(10, 8))` を使って、図のサイズを変更してみなさい。

---

## 問題4：広告費と売上の散布図

2つの数値変数の関係を散布図で見る問題です。

### データ

以下のコードで、広告費と売上のサンプルデータを作ります。

```python
np.random.seed(42)
ad_spending = np.random.uniform(10, 100, 50)  # 広告費（万円）
sales = ad_spending * 3 + np.random.normal(0, 30, 50)  # 売上（万円）
```

### 設問

1. `plt.scatter()` を使って、広告費（x軸）と売上（y軸）の散布図を描きなさい。
2. タイトル・x軸ラベル・y軸ラベルを設定しなさい。
3. 点の大きさ（`s`）と透明度（`alpha`）を変更して、重なりが見やすいように工夫しなさい。

#### 発展（余裕があれば）

4. `np.polyfit()` と `np.poly1d()` を使って、広告費→売上の「傾向線（回帰直線）」を計算し、`plt.plot()` で散布図の上に描きなさい。
5. グリッドと凡例（`plt.legend()`）を追加しなさい。

---

## 問題5：テストの点数分布のヒストグラム

データの分布を見るヒストグラムの問題です。

### データ

```python
np.random.seed(123)
scores = np.random.normal(70, 15, 200)  # 平均70点、標準偏差15の正規分布
scores = np.clip(scores, 0, 100)        # 0〜100点の範囲に制限
```

### 設問

1. `plt.hist()` を使って、テストの点数分布のヒストグラムを描きなさい。
2. ビンの数（`bins`）を 20 に設定しなさい。
3. タイトル・x軸ラベル・y軸ラベルを設定しなさい。
4. 棒の色・枠線の色・透明度（`alpha`）を指定して、見やすくしなさい。

#### 発展（余裕があれば）

5. 平均点に縦線を引きたい場合、`scores.mean()` を使って平均値を計算し、`plt.axvline()` でその位置に線を描きなさい。
6. 60点未満の人数、80点以上の人数を `print()` で出力し、ヒストグラムの形と照らし合わせて考察してみなさい。

---

